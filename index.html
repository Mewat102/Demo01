<!DOCTYPE html>
<html>
<head>
  <title>Send Message with Location</title>
</head>
<body>
  <h2>Message & Location Sender</h2>
  <input type="text" id="message" placeholder="Type your message">
  <button onclick="sendData()">Send</button>

  <script>
    function sendData() {
      var msg = document.getElementById("message").value;

      if (!msg) {
        alert("Please enter a message");
        return;
      }

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          var data = {
            message: msg,
            latitude: position.coords.latitude,
            longitude: position.coords.longitude
          };

          fetch("https://script.google.com/macros/s/AKfycbyPv2JaLglInlBf_WPPZNUZfctTMZkX6zlkKKeHB2d_6P0c5szqzJygW0RcDVU14WC-/exec", {
            method: "POST",
            body: JSON.stringify(data)
          })
          .then(res => res.text())
          .then(response => alert("Message Sent: " + response))
          .catch(err => alert("Error: " + err));
        });
      } else {
        alert("Geolocation not supported");
      }
    }
  </script>
</body>
</html>
